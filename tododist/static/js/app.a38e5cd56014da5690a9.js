webpackJsonp([0],{"6UJM":function(e,t){},LKoo:function(e,t){},MK2e:function(e,t){},Mobi:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("7+uW"),s=o("mvHQ"),i=o.n(s),l={props:{addTodo:Function},data:function(){return{title:""}},methods:{addItem:function(){var e=this.title.trim();if(e){var t={title:e,complete:!1};this.$emit("addTodo",t),this.title=""}else alert("必须输入")}}},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"todo-header"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{type:"text",placeholder:"请输入你的任务名称，按回车键确认"},domProps:{value:e.title},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addItem(t)},input:function(t){t.target.composing||(e.title=t.target.value)}}})])},staticRenderFns:[]};var d=o("VU/8")(l,r,!1,function(e){o("Mobi")},null,null).exports,c={props:{selectAllTodos:Function,deleteCompleteTodos:Function,todos:Array},computed:{completeSize:function(){return this.todos.reduce(function(e,t){return e+(t.complete?1:0)},0)},isAllCheck:{get:function(){return this.completeSize===this.todos.length},set:function(e){this.selectAllTodos(e)}}}},a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"todo-footer"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.isAllCheck,expression:"isAllCheck"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isAllCheck)?e._i(e.isAllCheck,null)>-1:e.isAllCheck},on:{change:function(t){var o=e.isAllCheck,n=t.target,s=!!n.checked;if(Array.isArray(o)){var i=e._i(o,null);n.checked?i<0&&(e.isAllCheck=o.concat([null])):i>-1&&(e.isAllCheck=o.slice(0,i).concat(o.slice(i+1)))}else e.isAllCheck=s}}})]),e._v(" "),o("span",[o("span",[e._v("已完成"+e._s(e.completeSize))]),e._v(" / 全部"+e._s(e.todos.length)+"\n  ")]),e._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:e.completeSize,expression:"completeSize"}],staticClass:"btn btn-danger",on:{click:e.deleteCompleteTodos}},[e._v("清除已完成任务")])])},staticRenderFns:[]};var u=o("VU/8")(c,a,!1,function(e){o("smfB")},null,null).exports,h={props:{todo:Object,deleteTodo:Function,index:Number},data:function(){return{isShow:!1,bgColor:"white"}},methods:{handleEnter:function(e){e?(this.bgColor="gray",this.isShow=!0):(this.bgColor="white",this.isShow=!1)},deleteItem:function(){this.todo;var e=this.index,t=this.deleteTodo;window.confirm("确认删除吗？")&&t(e)}}},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("li",{style:{background:e.bgColor},on:{mouseenter:function(t){return e.handleEnter(!0)},mouseleave:function(t){return e.handleEnter(!1)}}},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.todo.complete,expression:"todo.complete"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.todo.complete)?e._i(e.todo.complete,null)>-1:e.todo.complete},on:{change:function(t){var o=e.todo.complete,n=t.target,s=!!n.checked;if(Array.isArray(o)){var i=e._i(o,null);n.checked?i<0&&e.$set(e.todo,"complete",o.concat([null])):i>-1&&e.$set(e.todo,"complete",o.slice(0,i).concat(o.slice(i+1)))}else e.$set(e.todo,"complete",s)}}}),e._v(" "),o("span",[e._v(e._s(e.todo.title))])]),e._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"btn btn-danger",staticStyle:{display:"none"},on:{click:e.deleteItem}},[e._v("删除")])])},staticRenderFns:[]};var m=o("VU/8")(h,p,!1,function(e){o("MK2e")},null,null).exports,f={props:{todos:Array,deleteTodo:Function},components:{TodoItem:m}},v={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",{staticClass:"todo-main"},e._l(e.todos,function(t,n){return o("todo-item",{key:n,attrs:{todo:t,index:n,deleteTodo:e.deleteTodo}})}),1)},staticRenderFns:[]};var _={data:function(){return{todos:JSON.parse(window.localStorage.getItem("todos_key")||"[]")}},mounted:function(){this.$refs.header.$on("addTodo",this.addTodo)},watch:{todos:{deep:!0,handler:function(e){window.localStorage.setItem("todos_key",i()(e))}}},components:{TodoHeader:d,TodoFooter:u,TodoList:o("VU/8")(f,v,!1,function(e){o("6UJM")},null,null).exports},methods:{addTodo:function(e){this.todos.unshift(e)},deleteTodo:function(e){this.todos.splice(e,1)},deleteCompleteTodos:function(){window.confirm("确认删除所有选中吗？")&&(this.todos=this.todos.filter(function(e){return!e.complete}))},selectAllTodos:function(e){this.todos.forEach(function(t){return t.complete=e})}}},k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"todo-container"},[t("div",{staticClass:"todo-wrap"},[t("TodoHeader",{ref:"header"}),this._v(" "),t("TodoList",{attrs:{todos:this.todos,deleteTodo:this.deleteTodo}}),this._v(" "),t("TodoFooter",{attrs:{todos:this.todos,deleteCompleteTodos:this.deleteCompleteTodos,selectAllTodos:this.selectAllTodos}})],1)])},staticRenderFns:[]};var T=o("VU/8")(_,k,!1,function(e){o("LKoo")},null,null).exports;o("o38A");new n.a({el:"#app",components:{App:T},template:"<App/>"})},o38A:function(e,t){},smfB:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a38e5cd56014da5690a9.js.map